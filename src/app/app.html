<!-- Root Application Container -->
<div class="app-root" [class.sidebar-collapsed]="sidebarCollapsed$ | async">
ваы ваыфафыаыфав
  <!-- Error Message Toast -->
  @if (errorMessage$ | async; as errorMessage) {
    <div class="fixed top-4 right-4 z-50 max-w-md bg-alert-red text-military-white p-4 rounded-military-md shadow-military-lg flex items-center justify-between">
      <div class="flex items-center gap-3">
        <i class="fas fa-exclamation-circle"></i>
        <span>{{ errorMessage }}</span>
      </div>
      <button
        (click)="clearError()"
        class="text-military-white hover:text-camo-sand ml-4"
      >
        <i class="fas fa-times"></i>
      </button>
    </div>
  }

  <!-- Layout Selector -->
  @switch (layoutType$ | async) {
    @case ('blank') {
      <div class="layout-blank">
        <router-outlet></router-outlet>
      </div>
    }

    @case ('dashboard') {
      <div class="layout-dashboard">

<!--        @if (showHeader$ | async) {-->
<!--          <app-header-->
<!--            [sidebarCollapsed]="sidebarCollapsed$ | async"-->
<!--            [currentUser]="currentUser$ | async"-->
<!--            (toggleSidebar)="toggleSidebar()"-->
<!--            (logout)="logout()">-->
<!--          </app-header>-->
<!--        }-->

        <app-sidebar>
        </app-sidebar>

<!--        <main class="app-main" [class.with-sidebar]="showSidebar$ | async">-->
<!--          <div class="main-container">-->
<!--            @if (pageTitle$ | async; as pageTitle) {-->
<!--              <div class="page-header">-->
<!--                <h1 class="page-title">{{ pageTitle }}</h1>-->
<!--                <div class="page-actions">-->
<!--                  <ng-content select="[page-actions]"></ng-content>-->
<!--                </div>-->
<!--              </div>-->
<!--            }-->

<!--            <div class="page-content">-->
<!--              <router-outlet></router-outlet>-->
<!--            </div>-->
<!--          </div>-->
<!--        </main>-->

        @if (showFooter$ | async) {
          <app-footer></app-footer>
        }
      </div>
    }
  }

  <!-- Global Loading Overlay -->
  @if (isLoading$ | async) {
    <div class="global-loading">
      <div class="loading-spinner">
        <div class="spinner"></div>
        <p class="mt-4 text-sm font-mono">Loading...</p>
      </div>
    </div>
  }

  <!-- Toast Container -->
  <div class="toast-container"></div>

  <!-- Modal Container -->
  <div class="modal-container"></div>
</div>
